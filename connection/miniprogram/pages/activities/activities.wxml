<!--pages/activities/activities.wxml-->
<view class="container">
  <!-- 状态切换标签 -->
  <view class="status-tabs">
    <view 
      class="tab-item {{currentStatus === item.key ? 'active' : ''}}"
      wx:for="{{statusTabs}}"
      wx:key="key"
      bindtap="onTabChange"
      data-status="{{item.key}}"
    >
      {{item.name}}
    </view>
  </view>

  <!-- 活动列表 -->
  <view class="activity-list">
    <view 
      class="activity-item"
      wx:for="{{activityList}}"
      wx:key="_id"
      bindtap="goToDetail"
      data-id="{{item._id}}"
    >
      <image class="activity-image" src="{{item.coverUrl}}" mode="aspectFill"></image>
      <view class="activity-info">
        <text class="activity-title">{{item.title}}</text>
        <view class="activity-time">
          <text class="label">开始时间：</text>
          <text>{{item.startTimeFormatted}}</text>
        </view>
        <view class="activity-time">
          <text class="label">结束时间：</text>
          <text>{{item.endTimeFormatted}}</text>
        </view>
        <text class="activity-location">地点：{{item.location}}</text>
        <text class="activity-status {{item.status}}">{{
          item.startTime > Date.now() ? '即将开始' :
          item.endTime < Date.now() ? '已结束' : '进行中'
        }}</text>
      </view>
    </view>
  </view>

  <!-- 加载状态 -->
  <view class="loading" wx:if="{{loading}}">加载中...</view>
  <view class="no-more" wx:if="{{!hasMore && activityList.length > 0}}">没有更多活动了</view>
  <view class="empty" wx:if="{{!loading && activityList.length === 0}}">暂无活动</view>
  <view>

  <view wx:for="{{activityList}}" wx:key="id">
    <text>{{item.title}}</text>
    <text>{{item.startTimeFormatted}} - {{item.endTimeFormatted}}</text>
    <button bindtap="goToDetail" data-id="{{item._id}}">查看详情</button>
  </view>

  
</view>
</view>